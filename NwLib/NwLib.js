if(this.window&&!window.console)window.console={};if(this.window&&!window.console.log)window.console.log=function(){};if(!this.require)this.require=function(script){Nw.inject_module(script)};if(!this.JSON){if(typeof JSON!=="object"){JSON={}}(function(){"use strict";function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else if(typeof space==="string"){indent=space}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})()}(function(context,OBJECT,NUMBER,LENGTH,toString,undefined){function mapOrNil(obj){return obj&&typeof obj===OBJECT&&!(typeof obj.length===NUMBER&&!obj.propertyIsEnumerable(LENGTH))&&obj||null}function arrayOrNil(obj){return obj&&typeof obj===OBJECT&&typeof obj.length===NUMBER&&!obj.propertyIsEnumerable(LENGTH)&&obj||null}function functionOrNil(obj){return obj&&typeof obj==="function"&&obj||null}function stringOrNil(obj){return toString.apply(obj)==="[object String]"&&obj||null}function classOrNil(obj){return functionOrNil(obj)&&(obj.prototype&&obj===obj.prototype.constructor)&&obj||null}function copier(key,value,ignoredKeys,object,iClass,oPrototype){if(!ignoredKeys||!ignoredKeys.hasOwnProperty(key)){object[key]=value;if(iClass){oPrototype[key]=value}}}function extend(object,subject,ignoredKeys){if(arrayOrNil(subject)){for(var len=subject.length;--len>=0;){extend(object,subject[len],ignoredKeys)}}else{ignoredKeys=ignoredKeys||{constructor:1,$super:1,prototype:1,$superp:1};var iClass=classOrNil(object),isSubClass=classOrNil(subject),oPrototype=object.prototype,supez,key,proto;if(mapOrNil(subject)){for(key in subject){copier(key,subject[key],ignoredKeys,object,iClass,oPrototype)}}if(isSubClass){proto=subject.prototype;for(key in proto){copier(key,proto[key],ignoredKeys,object,iClass,oPrototype)}}if(iClass&&isSubClass){extend(oPrototype,subject.prototype,ignoredKeys)}}}function Class(parent,api){if(!api){parent=(api=parent,0)}var clazz,constructor,singleton,statics,key,bindTo,len,i=0,p,ignoredKeys={constructor:1,$singleton:1,$statics:1,prototype:1,$super:1,$superp:1,main:1,toString:0},plugins=Class.plugins;api=(typeof api==="function"?api():api)||{};constructor=api.hasOwnProperty("constructor")?api.constructor:0;singleton=api.$singleton;statics=api.$statics;for(key in plugins){ignoredKeys[key]=1}clazz=singleton?{}:constructor?constructor:function(){};bindTo=singleton?clazz:clazz.prototype;parent=!parent||arrayOrNil(parent)?parent:[parent];len=parent&&parent.length;while(i<len){p=parent[i++];for(key in p){if(!ignoredKeys[key]){bindTo[key]=p[key];if(!singleton){clazz[key]=p[key]}}}for(key in p.prototype){if(!ignoredKeys[key]){bindTo[key]=p.prototype[key]}}}for(key in api){if(!ignoredKeys[key]){bindTo[key]=api[key]}}for(key in statics){clazz[key]=bindTo[key]=statics[key]}if(!singleton){p=parent&&parent[0]||parent;clazz.$super=parent;clazz.$superp=p&&p.prototype?p.prototype:p;bindTo.$class=clazz}for(key in plugins){plugins[key](clazz,parent,api)}if(functionOrNil(api.main)){api.main.call(clazz,clazz)}return clazz}Class.plugins={};Nwjsface={Class:Class,extend:extend,mapOrNil:mapOrNil,arrayOrNil:arrayOrNil,functionOrNil:functionOrNil,stringOrNil:stringOrNil,classOrNil:classOrNil};{oldClass=context.Class;context.Class=Class;context.Nwjsface=Nwjsface;Nwjsface.noConflict=function(){context.Class=oldClass}}})(this,"object","number","length",Object.prototype.toString);(function(context,undefined){var Class=context.Class;function getClass(obj){if(typeof obj==="undefined")return"undefined";if(obj===null)return"null";return Object.prototype.toString.call(obj).match(/^\[object\s(.*)\]$/)[1]}var NwJsonSerializable=Class({constructor:function(className,isSendNull){for(var prop in this){this[prop]=this[prop]}if(className)this.className=className},formJsonObj:function(obj){for(var prop in obj){var objProp=obj[prop];if(objProp&&objProp.className){var newClassStr="new context."+objProp.className+"();";try{var classObj=eval(newClassStr);classObj.formJsonObj(objProp);objProp=classObj}catch(e){}}this[prop]=objProp}},formJsonStr:function(jsonStr){var obj=JSON.parse(jsonStr);this.formJsonObj(obj)},toJsonStr:function(){return JSON.stringify(this)},getObj:function(){var resultObj={};for(var prop in this){var val=this[prop];if(!Nwjsface.functionOrNil(val)){resultObj[prop]=val}}return resultObj},getClass:function(){return getClass(this)}});var NwRing=Class(NwJsonSerializable,{currentVal:0,max:9,min:0,constructor:function(val){NwRing.$super[0].call(this,"NwRing");if(val){this.currentVal=val}},set:function(val){this.currentVal=val},get:function(){return this.currentVal},next:function(num){if(num==undefined){num=1}if(num>=0){for(var i=0;i<num;i++){this.currentVal=this.currentVal<this.max?this.currentVal+1:this.min}return this.currentVal}else{num=Math.abs(num);return this.back(num)}},back:function(num){if(num==undefined){num=1}if(num>=0){for(var i=0;i<num;i++){this.currentVal=this.currentVal>this.min?this.currentVal-1:this.max}return this.currentVal}else{num=Math.abs(num);return this.next(num)}}});{context.NwJsonSerializable=NwJsonSerializable;context.NwRing=NwRing}})(this);(function(context,undefined){var Nw=context.Class({$singleton:true,DateTimeUtill:{getDateFromStrJson:function(dt){if(dt.indexOf){if(dt.indexOf("T")>=0&&dt.indexOf("Z")<0){dt+="Z"}var returnDate=new Date(dt);if(!returnDate.getTime()){if(dt.indexOf("UTC")>=0){var usabeDt=dt.replace(" ","T").replace(" UTC","");return this.getDateFromStrJson(usabeDt)}else if(dt.indexOf("Date")>=0){return this.dateFromWcfDate(dt)}else{var ss=dt.split("T");sd=ss[0],st=ss[1],ssd=sd.split("-");st=st.split("Z")[0];var sst=st.split(":");returnDate=new Date(ssd[0],ssd[1]-1,ssd[2],sst[0],sst[1],sst[2].split(".")[0])}}return returnDate}else{return dt}},getDateFromStrJsonTZoffset:function(dt){var datetime=this.getDateFromStrJson(dt);var tzOffset=datetime.getTimezoneOffset();return Nw.AddMinutes(datetime,tzOffset)},dateFormJson:function(dateJsonStr){if(dateJsonStr&&dateJsonStr.indexOf("Date")>=0){return this.dateFromWcfDate(dateJsonStr)}else{return this.dateFromJsJson(dateJsonStr)}},dateFromJsJson:function(dateJsonStr){return new Date(dateJsonStr)},dateFromWcfDate:function(wcfDate){var nstr=wcfDate.replace(/\//g," ");return eval("new "+nstr+";")},dateToWcfDate:function(jsDate){function pad(number,length){var str=""+number;while(str.length<length){str="0"+str}return str}if(!jsDate.getTimezoneOffset){jsDate=dateFormJson(jsDate)}var offset=jsDate.getTimezoneOffset();offset=(offset<0?"+":"-")+pad(parseInt(Math.abs(offset/60)),2)+pad(Math.abs(offset%60),2);return"/Date("+jsDate.getTime()+offset+")/"},conVerToDateTimeStr:function(DateObj){var DateTimeStrFormate=Nw.stringFormat("{0}/{1}/{2} {3}:{4}:{5}",DateObj.getFullYear(),DateObj.getMonth()+1,DateObj.getDate(),DateObj.getHours(),DateObj.getMinutes(),DateObj.getSeconds());return DateTimeStrFormate},dateFormat:function(date){datetime=date.getFullYear()+"-"+(date.getMonth()<9?"0":"")+(date.getMonth()+1)+"-"+(date.getDate()<10?"0":"")+date.getDate()+" "+(date.getHours()<10?"0":"")+date.getHours()+":"+(date.getMinutes()<10?"0":"")+date.getMinutes()+":"+(date.getSeconds()<10?"0":"")+date.getSeconds();return datetime},dateFromTimeStr:function(tstr,baseDate){baseDate=new Date;var tArr=tstr.split(":");var td=null;if(baseDate){td=new Date(baseDate.getFullYear(),baseDate.getMonth(),baseDate.getDate(),tArr[0],tArr[1],tArr[2])}else{td=new Date(0,0,0,tArr[0],tArr[1],tArr[2])}return td},compareTimeStr:function(tstr1,tstr2){var t1d=this.dateFromTimeStr(tstr1);var t2d=this.dateFromTimeStr(tstr2);return t1d-t2d},compareOnlyTime:function(date1,date2){return date1.setFullYear(0,0,0)-date2.setFullYear(0,0,0)},compareWithoutTime:function(dateStart,dateEnd){return date1.setHours(0,0,0,0)-date2.setHours(0,0,0,0)}},conVerToDateTimeStr:function(DateObj){return this.DateTimeUtill.conVerToDateTimeStr(DateObj)},getDateFromStrJson:function(dt){return this.DateTimeUtill.getDateFromStrJson(dt)},mergeTimePeriod:function(timePeriodList){var length=timePeriodList.length;var lastPeriod=timePeriodList[0];lastPeriod.timeBegin=Nw.DateTimeUtill.getDateFromStrJson(lastPeriod.timeBegin);lastPeriod.timeEnd=Nw.DateTimeUtill.getDateFromStrJson(lastPeriod.timeEnd);var newTimePeriodList=[lastPeriod];for(var i=1;i<length;i++){var period=timePeriodList[i];period.timeBegin=Nw.DateTimeUtill.getDateFromStrJson(period.timeBegin);period.timeEnd=Nw.DateTimeUtill.getDateFromStrJson(period.timeEnd);var gab=period.timeBegin.getTime()-lastPeriod.timeEnd.getTime();if(gab>1e3){newTimePeriodList.push(period);lastPeriod=period}else{lastPeriod.timeEnd=period.timeEnd}}return newTimePeriodList},HtmPrint:function(elementID){var _elementID=elementID;var domElement=document.getElementById(_elementID);this.print=function(msg){domElement.innerText=msg};this.println=function(msg){if(domElement.innerText){domElement.innerHTML+="<br>"+msg}else{domElement.innerText=msg}};this.printlnUp=function(msg){if(domElement.innerText){domElement.innerHTML=msg+"<br>"+domElement.innerHTML}else{domElement.innerText=msg}}},stringFormat:function(){var formatted=arguments[0];for(var i=0;i<arguments.length;i++){if(typeof arguments[i+1]!="undefined"){var regexp=new RegExp("\\{"+i+"\\}","gi");formatted=formatted.replace(regexp,arguments[i+1])}}return formatted},HashTable:function(obj){var length=0,items={};if(typeof $!=="undefined"){var ineach=$.each}else{ineach=function(obj,callback){for(var i in obj){if(callback(i,obj[i])){break}}}}var each=this.each=function(fn){ineach(items,fn)};var hasKey=this.hasKey=function(key){return items.hasOwnProperty(key)};var getItem=this.getItem=function(key){return hasKey(key)?items[key]:undefined};for(var p in obj){if(obj.hasOwnProperty(p)){items[p]=obj[p];length++}}this.getLength=function(){return length};this.length=function(){return length};this.addItem=function(key,value){var previous=undefined;if(hasKey(key)){previous=items[key]}else{length++}items[key]=value;return previous};this.getItems=function(){return items};this.removeItem=function(key){if(this.hasKey(key)){previous=items[key];length--;delete items[key];return previous}else{return undefined}};this.keys=function(){var keys=[];for(var k in items){if(hasKey(k)){keys.push(k)}}return keys};this.values=function(){var values=[];for(var k in items){if(hasKey(k)){values.push(items[k])}}return values};this.filter=function(fn){var results=new Nw.HashTable;each(function(k,item){if(fn.call(this,k,item))results.addItem(k,item)});return results};this.fideItemByKeys=function(keyItemArr,fn){var results=new Nw.HashTable;ineach(keyItemArr,function(index,keyItem){if(hasKey(keyItem)){var item=getItem(keyItem);results.addItem(keyItem,item);if(fn){fn.call(this,keyItem,item)}}});return results};this.clear=function(){items={};length=0}},eachAsync:function(collection,funcCallback,timeOut,funcComplete){var obj;var i=0;var length=collection.length;var isRun=true;this.stop=function(){isRun=false};if(isRun&&length>0){timeOutFuction(collection,funcCallback,i,length,timeOut,funcComplete)}function timeOutFuction(collection,funcCallback,i,length,timeOut,funcComplete){var obj=collection[i];var result=funcCallback.call(obj,i++,obj);if(isRun&&!result&&i<length){setTimeout(function(){timeOutFuction(collection,funcCallback,i,length,timeOut,funcComplete)},timeOut)}else if(funcComplete){funcComplete.call(obj,--i,obj)}}},forAsync:function(para,funcCompare,funcUpdate,funcCallback,timeOut,funcComplete){if(funcCompare(para)){timeOutFunc(para,funcCompare,funcUpdate,funcCallback,timeOut,funcComplete)}function timeOutFunc(para,funcCompare,funcUpdate,funcCallback,timeOut,funcComplete){funcCallback(para);funcUpdate(para);if(funcCompare(para)){setTimeout(function(){timeOutFunc(para,funcCompare,funcUpdate,funcCallback,timeOut,funcComplete)},timeOut)}else if(funcComplete){funcComplete(para)}}},SysncTarking:function(){var Qtark=[];var tarking=false;function processQtark(){if(Qtark.length>0){tarking=true;var tark=Qtark.shift();var arg=tark.arg;var callbackIndex=tark.callbackIndex;if(typeof callbackIndex!=="undefined"){var oldCallback=arg[callbackIndex];arg[callbackIndex]=function(data){if(oldCallback){oldCallback(data)}processQtark()}}tark.func.apply(this,arg)}else{tarking=false}}function pushAndRun(tark,argArr,callbackIndex){Qtark.push({arg:argArr,func:tark,callbackIndex:callbackIndex});if(!tarking&&Qtark.length==1){processQtark()}}this.pushAndRun=pushAndRun},Invoker:function(invokeFunc,timeOut){var invokeFunc;var timeOut=timeOut;var timer=null;if(invokeFunc){invokeFunc=invokeFunc}this.setInvokeFunc=function(func){invokeFunc=func};this.setTimeOut=function(t){timeOut=t};this.invoke=function(){if(!timer){var arg=arguments;timer=setTimeout(function(){invokeFunc.apply(this,arg);timer=null},timeOut)}}},withoutArrayInArray:function(arraySource,arrayCompare){return $.map(arraySource,function(value){if($.inArray(value,arrayCompare)<0){return value}})},withoutHasKeyInArray:function(arraySource,hashTableCompare){return $.map(arraySource,function(value){if(!hashTableCompare.hasKey(value)){return value}})},AddYears:function(date,year){var dat=new Date(date.valueOf());dat.setFullYear(dat.getFullYear()+year);return dat},AddMonths:function(date,month){var dat=new Date(date.valueOf());dat.setMonth(dat.getMonth()+month);return dat},AddDays:function(date,days){var dat=new Date(date.valueOf());dat.setDate(dat.getDate()+days);return dat},AddHours:function(date,hours){var dat=new Date(date.valueOf());dat.setHours(dat.getHours()+hours);return dat},AddMinutes:function(date,minutes){var dat=new Date(date.valueOf());dat.setMinutes(dat.getMinutes()+minutes);return dat},AddSeconds:function(date,seconds){var dat=new Date(date.valueOf());dat.setSeconds(dat.getSeconds()+seconds);return dat},gup:function(name,hrefStr){if(!hrefStr){hrefStr=window.location.href}name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\#?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(hrefStr);if(results==null)return null;else return decodeURIComponent(results[1])},gupH:function(name,hrefStr){if(!hrefStr){hrefStr=window.location.href}name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\#&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(hrefStr);if(results==null)return null;else return decodeURIComponent(results[1])},gupObj:function(hrefStr,isH){if(!hrefStr){hrefStr=window.location.href}var hashObj={};if(!hrefStr){hrefStr=window.location.href}if(isH){hrefStr=hrefStr.split("#").slice(-1)[0]}else{hrefStr=hrefStr.split("?").slice(-1)[0]}var hashArr=hrefStr.split("&");var hashArrlength=hashArr.length;for(var i=0;i<hashArrlength;i++){var hElem=hashArr[i].split("=");try{hashObj[hElem[0]]=decodeURIComponent(hElem[1])}catch(e){console.log(e)}}return hashObj},gupHObj:function(hrefStr){return Nw.gupObj(hrefStr,true)},setHObj:function(HObj,windowObj){var hashArr=[];for(var i in HObj){hashArr.push(i+"="+HObj[i])}var hashStr=hashArr.join("&");if(windowObj){windowObj.location.hash=hashStr;return hashStr}return hashStr},hasup:function(){return window.location.href.indexOf("?")>=0||window.location.href.indexOf("#")>=0},getGUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})},InheritanceExtend:function(subClass,baseClass){function inheritance(){}inheritance.prototype=baseClass.prototype;subClass.prototype=new inheritance;subClass.prototype.constructor=subClass;subClass.baseConstructor=baseClass;subClass.superClass=baseClass.prototype},loadStyleSheet:function(path,fn,scope){var head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.setAttribute("href",path);link.setAttribute("rel","stylesheet");link.setAttribute("type","text/css");var sheet,cssRules;if("sheet"in link){sheet="sheet";cssRules="cssRules"}else{sheet="styleSheet";cssRules="rules"}var timeout_id=setInterval(function(){try{if(link[sheet]&&link[sheet][cssRules].length){clearInterval(timeout_id);clearTimeout(timeout_id);fn.call(scope||window,true,link)}}catch(e){}finally{}},10),timeout_id=setTimeout(function(){clearInterval(timeout_id);clearTimeout(timeout_id);head.removeChild(link);fn.call(scope||window,false,link)},15e3);head.appendChild(link);return link},getScriptLocation:function(scriptName){var r=new RegExp("(^|(.*?\\/))("+scriptName+")(\\?|$)"),s=document.getElementsByTagName("script"),src,m,l="",len;for(var i=0,len=s.length;i<len;i++){src=s[i].getAttribute("src");if(src){m=src.match(r);if(m){l=m[1];break}}}return l},initScript:function(jsFiles,scriptLocation){if(scriptLocation){Nw.insertedScripts(jsFiles,scriptLocation)}else{Nw.insertedScripts(jsFiles,"")}},insertedScripts:function(jsFiles,host){var scriptTags=new Array(jsFiles.length);for(var i=0,len=jsFiles.length;i<len;i++){scriptTags[i]="<script src='"+host+jsFiles[i]+"'></script>"}if(scriptTags.length>0){document.write(scriptTags.join(""))}},inject_module:function(module_file){console.log("inject_module "+module_file);var h=document.getElementsByTagName("head")[0];var s=document.createElement("script");s.type="text/javascript";s.src=module_file;h.appendChild(s)},initStylesheet:function(jsFiles,scriptLocation){if(scriptLocation){Nw.insertedStylesheet(jsFiles,scriptLocation)}else{Nw.insertedStylesheet(jsFiles,"")}},insertedStylesheet:function(jsFiles,host){var scriptTags=new Array(jsFiles.length);for(var i=0,len=jsFiles.length;i<len;i++){scriptTags[i]="<link href='"+host+jsFiles[i]+"' rel='stylesheet' />"}if(scriptTags.length>0){document.write(scriptTags.join(""))}},getScriptSync:function(urlScript){},getCurentScriptPath:function(){var scripts=document.getElementsByTagName("script");var path=scripts[scripts.length-1].src.split("?")[0];var mydir=path.split("/").slice(0,-1).join("/")+"/";return mydir},getHost:function(location){return location.protocol+"//"+location.host},getHostName:function(location){return location.protocol+"//"+location.hostname},getBasePath:function(path){return path.split("/").slice(0,-1).join("/")+"/"},getBaseFile:function(path){var a=path.split("/").slice(-1)[0];return a.split("#")[0]},getRootUrl:function(){var url=window.location!=window.parent.location?document.referrer:document.location;return Nw.getBasePath(url.toString())},openPopup:function(url,name,w,h){var myWindow=window.open(url,name,"width="+w+",height="+h+"");return myWindow},openWindow:function(url,name){var myWindow=window.open(url,name);return myWindow},popThisUp:function(){var url=window.location.href;var newwindow=window.open(url,"","menuber=no,toorlbar=no,location=no,scrollbars=no, status=no,resizable=yes,"+"height="+$(window).height()+",width="+$(window).width());if(window.focus){newwindow.focus()}return url},clone:function(obj){if(null==obj||"object"!=typeof obj)return obj;if(obj instanceof Date){var copy=new Date;copy.setTime(obj.getTime());return copy}if(obj instanceof Array){var copy=[];for(var i=0,len=obj.length;i<len;i++){copy[i]=this.clone(obj[i])}return copy}if(obj instanceof Object){var copy={};for(var attr in obj){if(obj.hasOwnProperty(attr))copy[attr]=this.clone(obj[attr])}return copy}throw new Error("Unable to copy obj! Its type isn't supported.")},jqSubmit:function(actionUrl,reqObj){var formElem=$("<form>").attr("action",actionUrl).attr("method","post");for(var i in reqObj){var input=$("<input>").attr("type","hidden").attr("name",i).val(reqObj[i]);formElem.append(input)}$("body").append(formElem);formElem.submit()},localDownload:function(fileName,dataText,dataType){if(!dataType){dataType="text/json"}var uri="data:"+dataType+";charset=utf-8,"+escape(dataText);var downloadLink=document.createElement("a");downloadLink.href=uri;downloadLink.download=fileName;document.body.appendChild(downloadLink);downloadLink.click();document.body.removeChild(downloadLink)},minObj:function(objArry,sortField){var minObj=objArry[0];var min=minObj[sortField];for(var i=1;i<objArry.length;i++){var obj=objArry[i];var sortValue=obj[sortField];if(min>sortValue){minObj=obj}}return minObj},maxObj:function(objArry,sortField){var maxObj=objArry[0];var max=maxObj[sortField];for(var i=1;i<objArry.length;i++){var obj=objArry[i];var sortValue=obj[sortField];if(max<sortValue){maxObj=obj}}return maxObj}});{context.Nw=Nw}})(this);(function(context,undefined){var NwLib={};NwLib.Nwjsface=context.Nwjsface;NwLib.Nw=context.Nw;NwLib.NwRing=context.NwRing;NwLib.NwJsonSerializable=context.NwJsonSerializable;if(typeof module!=="undefined"&&module.exports){module.exports=NwLib}else{context.NwLib=NwLib}})(this);